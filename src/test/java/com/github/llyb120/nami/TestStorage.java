package com.github.llyb120.nami;

import cn.hutool.core.io.IoUtil;
import cn.hutool.core.util.RandomUtil;
import cn.hutool.http.HttpUtil;
import com.github.llyb120.nami.core.MultipartFile;
import com.github.llyb120.nami.core.Nami;
import com.github.llyb120.nami.ext.file.SimpleStorage;
import com.github.llyb120.nami.ext.file.Storage;
import org.junit.Assert;
import org.junit.BeforeClass;
import org.junit.Test;

import java.io.File;
import java.io.FileOutputStream;
import java.io.FileReader;
import java.io.IOException;
import static com.github.llyb120.nami.core.Config.config;

public class TestStorage {

    public String content;
    public String id;

    @BeforeClass
    public static void before(){
        Nami.dev();
    }


    @Test
    public void test01_initStorage(){
        Assert.assertNotNull(Storage.getStorage("test1"));
    }

    @Test
    public void test02_upload() throws IOException {
        SimpleStorage simpleStorage = (SimpleStorage) Storage.getStorage("test1");
        File file = File.createTempFile("123",".txt");
        file.deleteOnExit();
        content = RandomUtil.randomString(1024);
        IoUtil.write(new FileOutputStream(file), true, content.getBytes());
        id = simpleStorage.upload(new MultipartFile(file));
        Assert.assertNotNull(id);


        file = File.createTempFile("123",".txt");
        HttpUtil.download("http://127.0.0.1:" + config.port + "/test/a/downloadStorageFile?path=" + id, new FileOutputStream(file), true);

        String str = IoUtil.read(new FileReader(file));
        Assert.assertEquals(str, content);
    }

    @Test
    public void test03_uploadImage(){
        String base64 = "data:image/png;base64,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dd12RJz78zUX0fmnuq67o+/7U/Ng/qaIeFVE/PHnPve5rzp16tRdF3ENdyFAYMECAnjBoC5HYC8Fnv70pz/+sssu2x5CefiVor7vh18rGl7ZfDG3N9da334xd3QfAgQWLyCAF2/qigRSBUopX9p13eHZbHa467rHRcTju657fN/3XzZ8yENEXBkRf7q1tfX1J06c+GzqYRUn0LCAAG54+FonQIAAgTwBAZxnrzIBAgQINCwggBsevtYJECBAIE9AAOfZq0yAAAECDQsI4IaHr3UCBAgQyBMQwHn2KhMgQIBAwwICuOHha50AAQIE8gQEcJ69ygQIECDQsIAAbnj4WidAgACBPAEBnGevMgECBAg0LCCAGx6+1gkQIEAgT0AA59mrTIAAAQINCwjghoevdQIECBDIExDAefYqEyBAgEDDAgK44eFrnQABAgTyBARwnr3KBAgQINCwgABuePhaJ0CAAIE8AQGcZ68yAQIECDQsIIAbHr7WCRAgQCBPQADn2atMgAABAg0LCOCGh691AgQIEMgTEMB59ioTIECAQMMCArjh4WudAAECBPIEBHCevcoECBAg0LCAAG54+FonQIAAgTwBAZxnrzIBAgQINCwggBsevtYJECBAIE9AAOfZq0yAAAECDQsI4IaHr3UCBAgQyBMQwHn2KhMgQIBAwwICuOHha50AAQIE8gQEcJ69ygQIECDQsIAAbnj4WidAgACBPAEBnGevMgECBAg0LCCAGx6+1gkQIEAgT0AA59mrTIAAAQINCwjghoevdQIECBDIExDAefYqEyBAgEDDAgK44eFrnQABAgTyBARwnr3KBAgQINCwgABuePhaJ0CAAIE8AQGcZ68yAQIECDQsIIAbHr7WCRAgQCBPQADn2atMgAABAg0LCOCGh691AgQIEMgTEMB59ioTIECAQMMCArjh4WudAAECBPIEBHCevcoECBAg0LCAAG54+FonQIAAgTwBAZxnrzIBAgQINCwggBsevtYJECBAIE9AAOfZq0yAAAECDQsI4IaHr3UCBAgQyBMQwHn2KhMgQIBAwwICuOHha50AAQIE8gQEcJ69ygQIECDQsIAAbnj4WidAgACBPAEBnGevMgECBAg0LCCAGx6+1gkQIEAgT0AA59mrTIAAAQINCwjghoevdQIECBDIExDAefYqEyBAgEDDAgK44eFrnQABAgTyBARwnr3KBAgQINCwgABuePhaJ0CAAIE8AQGcZ68yAQIECDQsIIAbHr7WCRAgQCBPQADn2atMgAABAg0LCOCGh691AgQIEMgTEMB59ioTIECAQMMCArjh4WudAAECBPIEBHCevcoECBAg0LCAAG54+FonQIAAgTwBAZxnrzIBAgQINCwggBsevtYJECBAIE9AAOfZq0yAAAECDQsI4IaHr3UCBAgQyBMQwHn2KhMgQIBAwwICuOHha50AAQIE8gQEcJ69ygQIECDQsIAAbnj4WidAgACBPAEBnGevMgECBAg0LCCAGx6+1gkQIEAgT0AA59mrTIAAAQINCwjghoevdQIECBDIExDAefYqEyBAgEDDAgK44eFrnQABAgTyBARwnr3KBAgQINCwgABuePhaJ0CAAIE8AQGcZ68yAQIECDQsIIAbHr7WCRAgQCBPQADn2atMgAABAg0LCOCGh691AgQIEMgTEMB59ioTIECAQMMCArjh4WudAAECBPIEBHCevcoECBAg0LCAAG54+FonQIAAgTwBAZxnrzIBAgQINCwggBsevtYJECBAIE9AAOfZq0yAAAECDQsI4IaHr3UCBAgQyBMQwHn2KhMgQIBAwwICuOHha50AAQIE8gQEcJ69ygQIECDQsIAAbnj4WidAgACBPAEBnGevMgECBAg0LCCAGx6+1gkQIEAgT0AA59mrTIAAAQINCwjghoevdQIECBDIExDAefYqEyBAgEDDAgK44eFrnQABAgTyBARwnr3KBAgQINCwgABuePhaJ0CAAIE8AQGcZ68yAQIECDQsIIAbHr7WCRAgQCBPQADn2atMgAABAg0LCOCGh691AgQIEMgTEMB59ioTIECAQMMCArjh4WudAAECBPIEBHCevcoECBAg0LCAAG54+FonQIAAgTwBAZxnrzIBAgQINCwggBsevtYJECBAIE9AAOfZq0yAAAECDQsI4IaHr3UCBAgQyBMQwHn2KhMgQIBAwwICuOHha50AAQIE8gQEcJ69ygQIECDQsIAAbnj4WidAgACBPAEBnGevMgECBAg0LCCAGx6+1gkQIEAgT0AA59mrTIAAAQINCwjghoevdQIECBDIExDAefYqEyBAgEDDAgK44eFrnQABAgTyBARwnr3KBAgQINCwgABuePhaJ0CAAIE8AQGcZ68yAQIECDQsIIAbHr7WCRAgQCBPQADn2atMgAABAg0LCOCGh691AgQIEMgTEMB59ioTIECAQMMCArjh4WudAAECBPIEBHCevcoECBAg0LCAAG54+FonQIAAgTwBAZxnrzIBAgQINCwggBsevtYJECBAIE9AAOfZq0yAAAECDQsI4IaHr3UCBAgQyBMQwHn2KhMgQL4jpMgAAABpSURBVIBAwwICuOHha50AAQIE8gQEcJ69ygQIECDQsIAAbnj4WidAgACBPAEBnGevMgECBAg0LCCAGx6+1gkQIEAgT0AA59mrTIAAAQINCwjghoevdQIECBDIExDAefYqEyBAgEDDAv8XR59N/7097TUAAAAASUVORK5CYII=";
        SimpleStorage simpleStorage = (SimpleStorage) Storage.getStorage("test1");
        id = simpleStorage.upload(base64);
        Assert.assertNotNull(id);
    }


}

